# Abstractly -- TODO

## Основная цель
Создать язык, который позволит менять работу парсера выражений во время исполнения языка.  
Существование такого языка позволит на лету создавать новые языки программирования, 
модифицировать существующие, создавать свои DSL.  
Спустя некоторое время может появиться возможность работать с человеческой речью (с ограничениями, но тем не менее).  
DSL создаются для упрощения взаимодействия человека со сложными структурами и концепциями.


## Что должно быть в языке
- Доступ к корневому парсеру (например `@@` или `@`)
- Доступ к подпарсерам (например `@number`)
- Возможность создавать парсеры
  - Математические выражения
- Создание функций и исполнимых парсеров
- Подключаемые модули
- Компиляция парсера для ускорения работы
- Namespaces в том или ином виде
- Пакеный менеджер
- Свой сайт

## Проблемы версии 0
- Низкая скорость исполнения     
  **Возможные причины**:  
  - CharParser (постоянное raise при ошибке, очень дорого)  
  - `__eq__` / `__hash__` (неэффективное вычисление)  
  
  **Как исправить**:
  - ⚠️ Не делать raise, просто возвращать пустой парсер.  
  - ⚠️ Продумать изначально, как будет работать сравнение и хэширование    
    Написать тестов  
- Отсутствие адекватного вывода ошибок  
  **Возможные причины**:  
  - Отсутствие понимания, как это вообще сделать  
  
  **Как исправить**:  
  - Собирать все недопарсенные варианты    
  - ⚠️ Показывать пару самых длинных вариантов  
  - Показывать, как можно было бы продолжить  
- Переменные в глобальной переменной  

  **Как исправить**:  
  - Сделать аналог `ContextDict` и использовать его внутри `Executor`
  - ⚠️ **Продумать схему исполнения**
  
- Для создания парсеров нужны дополнительные знания  

  **Как исправить**:
  - ⚠️ Сделать это централизованно, с базовым классом для таких дел  
    Парсер распространяеся как класс, при инициализации которого мы передаём ему дополнительную информацию
- Рекурсия
  
  **Как исправить**:
  - Сделать декоратор для отлова рекурсии
- Параллелизм   
  - Распараллелить OrParser?
    - Общее состояние
